---
import BaseLayout from '../layouts/BaseLayout.astro';
import TuxExperience from '../components/TuxExperience';
import { fade } from 'astro:transitions';

/* Components */
import Header from '../components/Header.astro';
---
<BaseLayout>
    <main class="bg-black">
        <div class="fixed w-full h-screen"
        style=`
            background: radial-gradient(circle at center, rgba(25, 25, 25, 0.9) 0%, rgba(0, 0, 0, 1) 50%);
        `>

        </div>

        <Header />

        <section class="flex flex-row justify-center items-center text-white text-xl md:text-2xl text-center m-auto w-11/12 md:w-3/4 appear">
            <section class="absolute z-10 top-20 md:relative md:-top-20 text-left p-10" transition:animate={fade({ duration: '1s' })} >
                <h1 id="my-name" class="font-bold inline-block gradient">I'm Manuel Rubio</h1> <br />
                <span class="text-md md:text-xl">Computer Scientist and Software Engineer</span>

                <footer class="mt-7 flex flex-row">
                    <legend class="relative text-sm align-super">Based on</legend>
                    <span class="text-gray-200 text-lg mt-3 absolute">MÃ©xico</span>
                </footer>
            </section>

            <div id="main-text-model" class="mr-0 ml-auto h-[600px] w-[220px] md:h-[600px] md:w-[300px]">
                <TuxExperience client:load />
            </div>
        </section>

    </main>
</BaseLayout>

<script>
    // Listen for Astro page load events (includes initial load and navigation)
    document.addEventListener('astro:page-load', () => {
    });
    
    // Optional: Listen for before page load (useful for cleanup)
    document.addEventListener('astro:before-preparation', () => {
        console.log('Preparing to load page...');
    });
</script>

<style>
    .gradient {
        background: linear-gradient(90deg, #0000ff, #3333ff, #6666ff, #9999ff, #ccccff, #9999ff, #6666ff, #3333ff, #0000ff);
        background-size: 200% 100%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        color: transparent;
        animation: gradient-animation 3s linear infinite;
        transition: all 0.3s ease;
    }

    @keyframes gradient-animation {
        0% {
            background-position: 0% 50%;
        }
        100% {
            background-position: 200% 50%;
        }
    }

    .appear {
        animation: appear ease-in 1s;
    }

    @keyframes appear {
        from {
            opacity: 0%;
        }
        to {
            opacity: 100%;
        }
    }
</style>